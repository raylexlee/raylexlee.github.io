<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ææ½¤æ˜</title>
  <link rel="stylesheet" href="audiobook.css">
  </link>
</head>

<body>
  <div class="viewportDiv">
    <div class="div1">
      <section class="navigation">
        <div class="nav-container">
          <div class="brand">
            <div class="subtitle">
              <input type="checkbox" id="myAutoplay" name="autoplay" value="autoplay" checked>
              <label for="autoplay">è‡ªå‹•æ’­</label>
              <input type="range" min="0" max="10" value="2" id="myRange">
              <span id='myBook'></span>
            </div>
          </div>
          <nav>
            <div class="nav-mobile">
              <a class='active' id="nav-toggle" href="#!"><span></span></a>
            </div>
            <ul class="nav-list">
              <li>
                <a href="#">é¸ å– ç«  å›</a>
                <ul class="nav-dropdown" id="myChapterList">
                </ul>
              </li>
            </ul>
          </nav>
        </div>
      </section>
      <section>
        <div class="grid-container">
          <div>
            <input type="range" name="mySpeed" id="mySpeed" min="0" max="15" value="15">
          </div>
          <div>
            <audio id="audio" preload="auto" tabindex="0" controls="" type="audio/mpeg">
              <source type="audio/mp3" src="">
              Sorry, your browser does not support HTML5 audio.
            </audio>
          </div>
        </div>
      </section>
    </div>
    <div class="remainingDiv">
      <textarea name="myContent" id="myContent" readonly></textarea>
    </div>
  </div>
   <p> 
   <input type="checkbox" id="mySchedule" name="schedule" value="schedule" >
   <label for="schedule"><span id='sleep'>45</span> min &rarr; ğŸ’¤</label>
    <input type="range" min="5" max="75" value="45" step="5" id="stop">
   </p>
<script>
const stop = document.getElementById('stop');
stop.onchange = () => { document.getElementById('sleep').innerText = stop.value; }
let scheduleID = -1;
const mySchedule = document.getElementById('mySchedule');
mySchedule.onchange = function() {
  if (this.checked) { 
    scheduleStop(stop.value);
    } else {
    if (scheduleID == -1) return;
    cleanTimeout(scheduleID);
    scheduleID = -1;
  }
}
function scheduleStop(duration) {
  scheduleID = setTimeout(() => { audio.pause(); mySchedule.checked = false; }, duration * 60 * 1000);
}
</script>
  <div id="qrcode"></div>
<script src="qrcode.js"></script> 
<script type="text/javascript">
var qrcode = new QRCode(document.getElementById("qrcode"), {
	text: decodeURI(window.location.href),
	width: 128,
	height: 128,
	colorDark : "#ffffff",
	colorLight : "#000000",
	correctLevel : QRCode.CorrectLevel.H
});
</script>  
</body>
<script src="audiobook.js"></script>

</html>
